<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lễ kỷ niệm 30 năm THPT Chuyên Tiền Giang</title>
  <link rel="stylesheet" href="/css/style.css">
  <!-- Lora (Vietnamese subset); 600 cho sub/date, 700 cho title -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@600;700&display=swap&subset=vietnamese" rel="stylesheet">
  <style>
    /* inline helpers so asterisk + honeypot work even if CSS not refreshed */
    .form-group label.required::after{content:" *";color:#d62828}
    .hp{position:absolute!important;left:-9999px!important;opacity:0!important;height:0!important;width:0!important}
  </style>
</head>
<body>
  <!-- 1) TRANG CHÍNH: Logo + tiêu đề + mốc thời gian + nút RSVP -->
  <header id="hero" class="hero">
    <div class="hero-overlay">
      <img class="school-logo" src="images/logo.jpg" alt="Logo Trường THPT Chuyên Tiền Giang"/>
      <div class="hero-lines">
        <p class="hero-sub">Lễ kỷ niệm 30 năm ngày thành lập</p>
        <h1 class="hero-title">Trường THPT Chuyên Tiền Giang</h1>
        <p class="hero-date">(20/10/1995 - 20/10/2025)</p>
      </div>
      <button id="scrollToForm" class="scroll-button">Xác nhận tham dự</button>
    </div>

    <!-- Nhạc nền (phát sau lần click đầu theo chính sách trình duyệt) -->
    <audio id="backgroundAudio" src="audio/background.mp3" loop playsinline preload="auto"></audio>
  </header>

  <main class="container">
    <!-- PHÂN CÁCH RÕ RÀNG GIỮA CÁC MỤC -->
    <div class="section-divider"><span>Lời mời</span></div>
    <section id="invitation" class="invitation-section">
      <figure class="invitation-image">
        <img src="images/loi-moi.jpg" alt="Lời mời - bản trình bày gốc"/>
        <figcaption class="sr-only">Thư mời từ Hiệu trưởng (hiển thị theo đúng thiết kế ảnh cung cấp).</figcaption>
      </figure>
    </section>

    <div class="section-divider"><span>Nội dung chương trình</span></div>
    <section id="program" class="program-section" aria-labelledby="program-title">
      <h2 id="program-title" class="sr-only">Nội dung chương trình</h2>
    
      <!-- Card 1: Lễ chính thức -->
      <article class="program-card">
        <header class="program-card__head">
          <h3 class="program-card__title">Lễ chính thức</h3>
          <div class="program-card__meta">Thứ Bảy, 18/10/2025 • <strong>07:00 – 13:00</strong></div>
        </header>
        <ul class="program-list">
          <li><strong>07:00 – 08:00</strong> · Đón tiếp Lãnh đạo, quý đại biểu, Cựu GV, Cựu HS…</li>
          <li><strong>08:00 – 10:30</strong> · Chương trình lễ</li>
          <li><strong>10:30 – 13:00</strong> · Dự tiệc</li>
        </ul>
      </article>
    
      <!-- Card 2: Hội – Họp mặt hội ngộ -->
      <article class="program-card">
        <header class="program-card__head">
          <h3 class="program-card__title">Hội – Họp mặt hội ngộ</h3>
          <div class="program-card__meta">Thứ Bảy, 18/10/2025 • <strong>14:00 – 20:00</strong></div>
        </header>
        <ul class="program-list">
          <li><strong>14:00 – 15:00</strong> · Lớp học tuổi thơ</li>
          <li><strong>15:00 – 17:00</strong> · Giao lưu hội ngộ, chia sẻ kỷ niệm</li>
          <li><strong>17:00 – 20:00</strong> · Giao lưu văn nghệ, tiệc buffet</li>
        </ul>
      </article>
    
      <!-- Card 3: Hoạt động thể thao -->
      <article class="program-card">
        <header class="program-card__head">
          <h3 class="program-card__title">Hoạt động thể thao</h3>
          <div class="program-card__meta">Chủ Nhật, 19/10/2025 • <strong>07:30 – 13:00</strong></div>
        </header>
        <ul class="program-list">
          <li>Môn dự kiến: bóng đá mini, pickleball, cầu lông</li>
        </ul>
      </article>
    </section>

    <div class="section-divider"><span>Xác nhận tham dự</span></div>
    <section id="registration-section" class="registration-section">
      <!-- Countdown đến 18/10/2025 -->
      <div class="countdown-wrap soft-blue">
        <div class="countdown-date"><strong>Ngày 18 tháng 10 năm 2025</strong></div>
        <div class="countdown-grid" aria-label="Đếm ngược đến ngày 18/10/2025">
          <div class="cd-item"><div id="cd-days" class="cd-number">00</div><div class="cd-label">Ngày</div></div>
          <div class="cd-item"><div id="cd-hours" class="cd-number">00</div><div class="cd-label">Giờ</div></div>
          <div class="cd-item"><div id="cd-mins" class="cd-number">00</div><div class="cd-label">Phút</div></div>
          <div class="cd-item"><div id="cd-secs" class="cd-number">00</div><div class="cd-label">Giây</div></div>
        </div>
      </div>

      <!-- Statistics -->
      <div class="stats-wrap soft-blue" aria-label="Số lượng đã đăng ký">
        <h3 class="stats-title">Đã đăng ký</h3>
      
        <div class="stat-row">
          <div class="stat-head">
            <span class="stat-name">Phần Lễ (sáng Thứ 7) — giới hạn 400 chỗ</span>
            <span id="txtCeremony" class="stat-val">0 / 400</span>
          </div>
          <div class="bar">
            <div id="barCeremony" class="bar-fill" style="width:0%"></div>
          </div>
        </div>
      
        <div class="stat-row">
          <div class="stat-head">
            <span class="stat-name">Phần Hội (chiều tối Thứ 7) — không giới hạn</span>
            <span id="txtFestival" class="stat-val">0</span>
          </div>
          <div class="bar">
            <div id="barFestival" class="bar-fill full"></div>
          </div>
        </div>
      
        <div class="stat-row">
          <div class="stat-head">
            <span class="stat-name">Giao lưu thể thao (sáng Chủ Nhật) — không giới hạn</span>
            <span id="txtSports" class="stat-val">0</span>
          </div>
          <div class="bar">
            <div id="barSports" class="bar-fill full"></div>
          </div>
        </div>
      </div>

      <!-- FORM (đã reorder + required + dropdown + email) -->
      <form id="registrationForm" novalidate>
        <input type="text" id="website" name="website" class="hp" autocomplete="off" tabindex="-1" aria-hidden="true">
      
        <!-- Họ và tên -->
        <div class="form-row">
          <div class="form-group full">
            <label for="name" class="required">Họ và tên</label>
            <input type="text" id="name" name="name" required>
          </div>
        </div>
      
        <!-- Số điện thoại & Email -->
        <div class="form-row">
          <div class="form-group">
            <label for="phone" class="required">Số điện thoại</label>
            <input type="tel" id="phone" name="phone" inputmode="tel" required>
          </div>
          <div class="form-group">
            <label for="email" class="required">Email</label>
            <input type="email" id="email" name="email" inputmode="email" required>
          </div>
        </div>
      
        <!-- Lớp & Niên khóa -->
        <div class="form-row">
          <div class="form-group">
            <label for="class" class="required">Lớp</label>
            <select id="class" name="class" required>
              <option value="" disabled selected>-- Chọn theo niên khóa của bạn --</option>
              <option>Toán</option>
              <option>Toán 1</option>
              <option>Toán 2</option>
              <option>Tin</option>
              <option>Lý</option>
              <option>Hoá</option>
              <option>Sinh</option>
              <option>Sinh 1</option>
              <option>Sinh 2</option>
              <option>Anh</option>
              <option>Anh 1</option>
              <option>Anh 2</option>
              <option>Văn</option>
              <option>Địa</option>
              <option>Không Chuyên (K)</option>
              <option>Không Chuyên 1 (K1)</option>
              <option>Không Chuyên 2 (K2)</option>
              <option>Anh-Pháp</option>
              <option>Hoá-Sinh</option>
            </select>
          </div>
          <div class="form-group">
            <label for="graduationYear" class="required">Niên khóa</label>
            <select id="graduationYear" name="graduationYear" required></select>
          </div>
        </div>
      
        <!-- Tham gia (checklist) -->
        <fieldset class="form-row sessions-fieldset">
          <legend class="required">Tham gia</legend>
          <label class="checkbox">
            <input type="checkbox" id="sessCeremony" name="sessions" value="ceremony"> Phần Lễ (sáng Thứ 7)
          </label>
          <label class="checkbox">
            <input type="checkbox" id="sessFestival" name="sessions" value="festival"> Phần Hội (chiều tối Thứ 7)
          </label>
          <label class="checkbox">
            <input type="checkbox" id="sessSports" name="sessions" value="sports"> Giao lưu thể thao (sáng Chủ Nhật)
          </label>
        </fieldset>
      
        <!-- Lời nhắn (optional) -->
        <div class="form-row">
          <div class="form-group full">
            <label for="message">Lời nhắn</label>
            <textarea id="message" name="message" rows="3" placeholder="(Không bắt buộc)"></textarea>
          </div>
        </div>
      
        <button type="submit" class="submit-button">Gửi xác nhận</button>
        <div id="formMessage" class="form-message" role="status" aria-live="polite"></div>
      </form>
      
    </section>

    <div class="section-divider"><span>Hình ảnh kỷ niệm</span></div>
    <section id="gallery" class="gallery-section" aria-label="Hình ảnh kỷ niệm">
      <div class="gallery-frame">
        <div id="galleryGrid" class="gallery-grid" aria-live="polite"></div>
        <div class="gallery-controls">
          <button id="galPrev" class="gal-btn" aria-label="Trang trước">‹</button>
          <div id="galDots" class="gal-dots" aria-label="Chọn trang"></div>
          <button id="galNext" class="gal-btn" aria-label="Trang sau">›</button>
        </div>
      </div>
    </section>

    <div class="section-divider"><span>Lời kết</span></div>
    <section id="closing" class="closing-section">
      <p>Xin chân thành cảm ơn sự quan tâm và hiện diện của quý Thầy Cô, các anh chị em cựu học sinh. Chúc mọi người sức khỏe và hạnh phúc.</p>
    </section>
  </main>

  <!-- 5&6) Nút nổi góc dưới phải: RSVP nhanh & Mute luôn hiển thị khi cuộn -->
  <button id="quickRsvp" class="fab fab-rsvp" data-tooltip="Xác nhận tham dự" aria-label="Xác nhận tham dự">📝</button>
  <button id="audioControl" class="fab fab-audio" data-tooltip="Bật/tắt nhạc" aria-label="Bật/Tắt nhạc">🔇</button>

  <script src="/js/script.js"></script>

  <!-- Success Modal: QR & actions -->
  <div id="qrModal" class="modal" hidden>
    <div class="modal-backdrop"></div>
    <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="qrModalTitle">
      <button id="qrClose" class="modal-close" aria-label="Đóng">×</button>
      <h2 id="qrModalTitle">Đăng ký thành công</h2>
      <p class="muted">Vui lòng lưu mã QR để làm thủ tục điểm danh khi tham dự.</p>
      <img id="qrImage" alt="QR vé" class="qr-big"/>
      <div class="modal-actions">
        <a id="btnDownloadQR" class="btn" download>Download QR</a>
        <button id="btnCopyLink" class="btn secondary">Copy link vé</button>
      </div>
      <p class="muted" id="ticketLinkText"></p>
    </div>
  </div>

</body>
</html>